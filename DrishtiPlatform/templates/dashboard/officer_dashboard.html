{% extends 'base.html' %}

{% block title %}Officer Dashboard - Drishti Platform{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto;">
    <h2 style="margin-bottom: 2rem;">Officer Dashboard</h2>

    <div class="glass-card">
        <h3>Assigned Complaints</h3>
        <div style="margin-top: 1rem;">
            {% if assigned_complaints %}
            <table style="width: 100%; border-collapse: collapse; color: #cbd5e1;">
                <thead>
                    <tr style="text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1);">
                        <th style="padding: 1rem;">ID</th>
                        <th style="padding: 1rem;">Title</th>
                        <th style="padding: 1rem;">Priority</th>
                        <th style="padding: 1rem;">Status</th>
                        <th style="padding: 1rem;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for complaint in assigned_complaints %}
                    <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                        <td style="padding: 1rem;">#{{ complaint.id }}</td>
                        <td style="padding: 1rem;">{{ complaint.title }}</td>
                        <td style="padding: 1rem;">
                            <span
                                style="color: {% if complaint.priority == 'high' or complaint.priority == 'critical' %}#ef4444{% else %}#cbd5e1{% endif %};">
                                {{ complaint.get_priority_display }}
                            </span>
                        </td>
                        <td style="padding: 1rem;">{{ complaint.get_status_display }}</td>
                        <td style="padding: 1rem;">
                            <a href="{% url 'complaint_detail' complaint.pk %}" class="btn"
                                style="padding: 0.25rem 0.75rem; font-size: 0.85rem; background: rgba(255,255,255,0.1);">View</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p>No complaints assigned currently.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
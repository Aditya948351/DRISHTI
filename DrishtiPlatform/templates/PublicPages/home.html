{% extends 'base.html' %}
{% load static %}

{% block title %}Home - Drishti Platform{% endblock %}

{% block content %}
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>

<section class="hero-section position-relative overflow-hidden">
    <!-- 3D Background Logo -->
    <div class="position-absolute start-50 translate-middle w-100 h-100"
        style="top: 40%; z-index: -1; opacity: 0.6; pointer-events: none;">
        <model-viewer src="{% static 'models/Drishti-logo.glb' %}" alt="Drishti Logo 3D" auto-rotate
            interaction-prompt="none" disable-zoom shadow-intensity="1"
            style="width: 100%; height: 100%; --poster-color: transparent;" camera-orbit="45deg 45deg 2.5m"
            field-of-view="30deg">
        </model-viewer>
    </div>

    <h1 class="hero-title">Drishti</h1>
    <p class="lead text-dark mb-2">Digital Redressal Intelligent System with Human-in-loop Tracking Interface</p>
    <!-- Updated Subtitle: Black and Bold -->
    <p class="hero-subtitle fw-bold text-dark" style="color: black !important; font-weight: 800 !important;">
        AI-augmented grievance redressal with transparent human oversight
    </p>
    <div class="hero-cta">
        <a href="{% url 'track_complaint' %}" class="btn btn-primary">Track Complaint</a>
        <a href="{% url 'register' %}" class="btn btn-secondary">Register Now</a>
    </div>

    <div class="stats-bar">
        <div class="stat-item">
            <div class="stat-value">12,543</div>
            <div class="stat-label">Total Complaints</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">10,230</div>
            <div class="stat-label">Resolved</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">48h</div>
            <div class="stat-label">Avg Resolution</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">4.8/5</div>
            <div class="stat-label">User Satisfaction</div>
        </div>
    </div>
</section>

<!-- Problem & Objectives Section -->
<section class="mb-5 py-5 bg-white">
    <div class="container-fluid px-5">
        <div class="row g-5 align-items-center">
            <div class="col-lg-6">
                <h2 class="fw-bold mb-4" style="color: var(--gov-dark-blue);">The Challenge</h2>
                <p class="text-muted lead mb-4">
                    In many cities, citizen complaints related to essential services like water, roads, and sanitation
                    are handled through fragmented channels.
                    Existing systems often lack intelligent categorization, prioritization, and routing, leading to
                    delays and reduced trust.
                </p>
                <p class="text-muted">
                    Fragmented channels like phone calls and emails result in high-impact issues getting delayed or
                    misrouted.
                    There is a critical need for a centralized, AI-assisted platform that supports the complete
                    lifecycle from intake to closure.
                </p>
            </div>
            <div class="col-lg-6">
                <div class="glass-card bg-light border-0">
                    <h3 class="fw-bold mb-4" style="color: var(--gov-blue);">Our Objectives</h3>
                    <ul class="list-unstyled">
                        <li class="d-flex gap-3 mb-3">
                            <span class="text-success fw-bold">‚úì</span>
                            <span><strong>Digitize & Standardize:</strong> Streamline the entire grievance redressal
                                workflow with proper audit trails.</span>
                        </li>
                        <li class="d-flex gap-3 mb-3">
                            <span class="text-success fw-bold">‚úì</span>
                            <span><strong>AI Assistance:</strong> Assist officials with categorization, priority
                                prediction, and routing suggestions.</span>
                        </li>
                        <li class="d-flex gap-3 mb-3">
                            <span class="text-success fw-bold">‚úì</span>
                            <span><strong>Transparency:</strong> Ensure accountability through real-time tracking and
                                citizen feedback.</span>
                        </li>
                        <li class="d-flex gap-3 mb-3">
                            <span class="text-success fw-bold">‚úì</span>
                            <span><strong>Engagement:</strong> Improve citizen engagement via community discussions and
                                AI guidance.</span>
                        </li>
                        <li class="d-flex gap-3">
                            <span class="text-success fw-bold">‚úì</span>
                            <span><strong>Data Insights:</strong> Provide data-driven insights for policy-level
                                decisions.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Key Features Section -->
<section class="mb-5 py-5">
    <div class="text-center mb-5">
        <h2 class="fw-bold" style="font-size: 2.5rem; color: var(--gov-dark-blue);">Key Features</h2>
        <p class="text-muted">A comprehensive suite of tools for modern governance.</p>
    </div>
    <div class="grid-3">
        <!-- Feature 1 -->
        <div class="glass-card">
            <div class="feature-icon text-primary">üì±</div>
            <h4 class="fw-bold mb-3">Citizen Complaint Management</h4>
            <p class="small text-muted">
                Online submission with location & attachments. Detailed timeline tracking, status updates, and feedback
                mechanisms.
            </p>
        </div>
        <!-- Feature 2 -->
        <div class="glass-card">
            <div class="feature-icon text-warning">ü§ñ</div>
            <h4 class="fw-bold mb-3">AI-Assisted Decision Support</h4>
            <p class="small text-muted">
                NLP-based categorization, priority prediction, and SLA breach risk analysis. Human-in-the-loop design
                for accuracy.
            </p>
        </div>
        <!-- Feature 3 -->
        <div class="glass-card">
            <div class="feature-icon text-success">üèõÔ∏è</div>
            <h4 class="fw-bold mb-3">Role-Based Governance</h4>
            <p class="small text-muted">
                Multi-layer structure: Citizen, Local Officer, Dept Admin, and Super Admin. Clear workflow and
                escalation paths.
            </p>
        </div>
        <!-- Feature 4 -->
        <div class="glass-card">
            <div class="feature-icon text-info">üí¨</div>
            <h4 class="fw-bold mb-3">Community Discussion</h4>
            <p class="small text-muted">
                Public issue threads for broader civic issues. Link complaints to discussions to reduce duplicates.
            </p>
        </div>
        <!-- Feature 5 -->
        <div class="glass-card">
            <div class="feature-icon text-danger">üéôÔ∏è</div>
            <h4 class="fw-bold mb-3">AI Talking Assistant</h4>
            <p class="small text-muted">
                Conversational guidance for filing complaints and explaining status. Answers FAQs about services and
                timelines.
            </p>
        </div>
        <!-- Feature 6 -->
        <div class="glass-card">
            <div class="feature-icon text-secondary">üìä</div>
            <h4 class="fw-bold mb-3">Analytics & Monitoring</h4>
            <p class="small text-muted">
                Department-wise statistics, SLA compliance reports, hotspot analysis, and AI performance metrics.
            </p>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="mb-5 py-5 bg-white">
    <div class="text-center mb-5">
        <h2 class="fw-bold" style="font-size: 2.5rem; color: var(--gov-dark-blue);">How It Works</h2>
        <p class="text-muted">Simple 3-step process to get your grievances resolved.</p>
    </div>
    <div class="grid-3">
        <div class="glass-card text-center border-0 shadow-none">
            <div class="feature-icon text-primary display-4 mb-3">üìù</div>
            <h3>1. Register & File</h3>
            <p>Create an account and lodge your complaint with details and photos.</p>
        </div>
        <div class="glass-card text-center border-0 shadow-none">
            <div class="feature-icon text-warning display-4 mb-3">‚öôÔ∏è</div>
            <h3>2. AI Processing</h3>
            <p>Our AI automatically categorizes and assigns it to the right officer.</p>
        </div>
        <div class="glass-card text-center border-0 shadow-none">
            <div class="feature-icon text-success display-4 mb-3">‚úÖ</div>
            <h3>3. Resolution</h3>
            <p>Track status in real-time and get notified upon resolution.</p>
        </div>
    </div>
</section>

<!-- Government Initiatives -->
<section class="mb-5 py-5">
    <div class="text-center mb-5">
        <h2 class="fw-bold" style="font-size: 2.5rem; color: var(--gov-dark-blue);">Government Initiatives</h2>
        <p class="text-muted">Aligned with Digital India's vision for a connected nation.</p>
    </div>
    <div class="grid-3">
        <div class="glass-card">
            <h4 class="fw-bold mb-3">Digital India</h4>
            <p class="small text-muted">Empowering society through digital access and inclusion.</p>
        </div>
        <div class="glass-card">
            <h4 class="fw-bold mb-3">Swachh Bharat</h4>
            <p class="small text-muted">Promoting cleanliness and hygiene across the nation.</p>
        </div>
        <div class="glass-card">
            <h4 class="fw-bold mb-3">Smart Cities</h4>
            <p class="small text-muted">Building sustainable and citizen-friendly urban areas.</p>
        </div>
    </div>
</section>

<!-- ================================================================================== -->
<!-- EXPLAINABLE README FOR JUDGES -->
<!-- ================================================================================== -->
<section id="hackathon-readme" class="py-5"
    style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-top: 4px solid var(--gov-orange);">
    <div class="container">
        <div class="row justify-content-center mb-5">
            <div class="col-lg-8 text-center">
                <span class="badge bg-dark mb-2">HACKATHON JUDGES ONLY</span>
                <h2 class="fw-bold display-6 mb-3">Project Under the Hood</h2>
                <p class="lead text-muted">A transparent look at how <strong>Drishti</strong> powers intelligent
                    governance.</p>
            </div>
        </div>

        <!-- 1. The Core Architecture -->
        <div class="row g-4 mb-5">
            <div class="col-md-12">
                <div class="card border-0 shadow-sm h-100 overflow-hidden">
                    <div class="card-header bg-white border-0 pt-4 px-4">
                        <h4 class="fw-bold text-primary"><i class="bi bi-cpu me-2"></i>Tech Stack & Architecture</h4>
                    </div>
                    <div class="card-body px-4 pb-4">
                        <div class="row text-center g-3">
                            <div class="col-6 col-md-2">
                                <div class="p-3 bg-light rounded-3">
                                    <img src="https://static.djangoproject.com/img/logos/django-logo-negative.png"
                                        alt="Django" class="img-fluid mb-2"
                                        style="max-height: 30px; filter: invert(1);">
                                    <div class="small fw-bold">Django 5.0</div>
                                    <div class="text-xs text-muted">Core Backend</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-2">
                                <div class="p-3 bg-light rounded-3">
                                    <div class="display-6 mb-1">üêç</div>
                                    <div class="small fw-bold">Python 3.10+</div>
                                    <div class="text-xs text-muted">Logic Layer</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-2">
                                <div class="p-3 bg-light rounded-3">
                                    <div class="display-6 mb-1">ü§ñ</div>
                                    <div class="small fw-bold">Scikit-Learn</div>
                                    <div class="text-xs text-muted">AI Classification</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-2">
                                <div class="p-3 bg-light rounded-3">
                                    <div class="display-6 mb-1">üí¨</div>
                                    <div class="small fw-bold">OpenRouter/LLM</div>
                                    <div class="text-xs text-muted">Smart Assistant</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-2">
                                <div class="p-3 bg-light rounded-3">
                                    <div class="display-6 mb-1">üé®</div>
                                    <div class="small fw-bold">Bootstrap 5</div>
                                    <div class="text-xs text-muted">Responsive UI</div>
                                </div>
                            </div>
                            <div class="col-6 col-md-2">
                                <div class="p-3 bg-light rounded-3">
                                    <div class="display-6 mb-1">üóÑÔ∏è</div>
                                    <div class="small fw-bold">PostgreSQL</div>
                                    <div class="text-xs text-muted">Data Storage</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2. The Smart Grievance Flow -->
        <div class="row mb-5">
            <div class="col-12">
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-white border-0 pt-4 px-4">
                        <h4 class="fw-bold text-success"><i class="bi bi-diagram-3 me-2"></i>Intelligent Grievance Flow
                        </h4>
                    </div>
                    <div class="card-body p-4">
                        <div
                            class="d-flex flex-column flex-md-row justify-content-between align-items-center text-center position-relative">
                            <!-- Step 1 -->
                            <div class="position-relative z-1 mb-4 mb-md-0" style="flex: 1;">
                                <div class="bg-white rounded-circle shadow-sm mx-auto d-flex align-items-center justify-content-center border border-3 border-primary"
                                    style="width: 80px; height: 80px;">
                                    <span class="fs-1">üì∏</span>
                                </div>
                                <h6 class="mt-3 fw-bold">1. Intake</h6>
                                <p class="small text-muted px-2">Citizen uploads photo/location.
                                    <br><strong>Input:</strong> Image + Text</p>
                            </div>

                            <!-- Connector -->
                            <div class="d-none d-md-block position-absolute top-50 start-0 w-100 border-top border-2 border-secondary border-opacity-25"
                                style="transform: translateY(-40px); z-index: 0;"></div>

                            <!-- Step 2 -->
                            <div class="position-relative z-1 mb-4 mb-md-0" style="flex: 1;">
                                <div class="bg-white rounded-circle shadow-sm mx-auto d-flex align-items-center justify-content-center border border-3 border-warning"
                                    style="width: 80px; height: 80px;">
                                    <span class="fs-1">üß†</span>
                                </div>
                                <h6 class="mt-3 fw-bold">2. AI Analysis</h6>
                                <p class="small text-muted px-2">NLP classifies category. <br><strong>Output:</strong>
                                    "Sanitation" | Priority: High</p>
                            </div>

                            <!-- Step 3 -->
                            <div class="position-relative z-1 mb-4 mb-md-0" style="flex: 1;">
                                <div class="bg-white rounded-circle shadow-sm mx-auto d-flex align-items-center justify-content-center border border-3 border-info"
                                    style="width: 80px; height: 80px;">
                                    <span class="fs-1">üëÆ</span>
                                </div>
                                <h6 class="mt-3 fw-bold">3. Routing</h6>
                                <p class="small text-muted px-2">Auto-assigned to nearest officer.
                                    <br><strong>Action:</strong> Notification Sent</p>
                            </div>

                            <!-- Step 4 -->
                            <div class="position-relative z-1" style="flex: 1;">
                                <div class="bg-white rounded-circle shadow-sm mx-auto d-flex align-items-center justify-content-center border border-3 border-success"
                                    style="width: 80px; height: 80px;">
                                    <span class="fs-1">‚úÖ</span>
                                </div>
                                <h6 class="mt-3 fw-bold">4. Resolution</h6>
                                <p class="small text-muted px-2">Officer updates status. <br><strong>Result:</strong>
                                    Citizen Feedback Loop</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 3. Key Differentiators & Roadmap -->
        <div class="row g-4">
            <div class="col-md-6">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body p-4">
                        <h5 class="fw-bold mb-3 text-dark">üöÄ Why Drishti?</h5>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item bg-transparent px-0"><i
                                    class="bi bi-check-circle-fill text-success me-2"></i><strong>Human-in-the-Loop
                                    AI:</strong> AI suggests, Officer approves.</li>
                            <li class="list-group-item bg-transparent px-0"><i
                                    class="bi bi-check-circle-fill text-success me-2"></i><strong>Offline-First
                                    Design:</strong> Works in low connectivity areas.</li>
                            <li class="list-group-item bg-transparent px-0"><i
                                    class="bi bi-check-circle-fill text-success me-2"></i><strong>Multilingual
                                    Support:</strong> Accessible to all citizens.</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card border-0 shadow-sm h-100 bg-dark text-white"
                    style="background: linear-gradient(45deg, #1a1a1a, #2c3e50);">
                    <div class="card-body p-4">
                        <h5 class="fw-bold mb-3 text-white">üîÆ Future Roadmap</h5>
                        <div class="d-flex align-items-center mb-3">
                            <span class="badge bg-primary me-2">Q2 2026</span>
                            <span class="small">Predictive Maintenance using IoT Sensors</span>
                        </div>
                        <div class="d-flex align-items-center mb-3">
                            <span class="badge bg-info me-2">Q3 2026</span>
                            <span class="small">Blockchain-based Audit Trails</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <span class="badge bg-warning text-dark me-2">Q4 2026</span>
                            <span class="small">Voice-First Vernacular Interface</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}